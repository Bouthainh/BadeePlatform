
@model List<ChildrenViewModel>

<h2>أطفالي</h2>

@if (ViewBag.Message != null)
{
    <p>@ViewBag.Message</p>

    <a href="@Url.Action("AddChild", "Parent")">
        إضافة طفل جديد
    </a>
}
else
{
    <ul>
        @foreach (var child in Model)
        {
            <li>
                @child.ChildName
                <div class="child-avatar">
                    <img src="@child.IconImgPath" alt="child icon">
                </div>
                | <a href="@Url.Action("ViewChildProfile", "Parent", new { childId = child.ChildId })">
                    عرض
                  </a>

                | <a href="@Url.Action("EditChildProfile", "Parent", new { childId = child.ChildId })">
                    تعديل
                  </a>

                | <form asp-action="DeleteChildProfile" asp-controller="Parent" 
                        method="post" style="display:inline">
                        <input type="hidden" name="childId" value="@child.ChildId" />
                        <button type="submit">حذف</button>
                  </form>
            </li>
        }
    </ul>

    <a href="@Url.Action("AddChild", "Parent")">
        إضافة طفل
    </a>
}
